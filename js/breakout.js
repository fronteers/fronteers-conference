let a=!1;function b(){let a=c(),i=a.getContext("2d"),j=3,k=0,l=(a.width-144)/2,m=!1,n=!1,e=144,o=["#e84667","#f19599","#fad0b1","#cdc6aa","#83ae9b"],f=Math.floor(a.width/(e+24)),p=Math.floor((a.width+24-f*(e+24))/2),g=[];for(var b=0;b<5;b++){g[b]=[];for(var d=0;d<f;d++)g[b][d]={x:0,y:0,status:1}}let q=a.width/2,r=a.height-48-30,s=8,t=-8;function h(){i.clearRect(0,0,a.width,a.height),function(){for(let a=0;a<5;a++)for(let b=0;b<f;b++)if(1==g[a][b].status){let c=b*(e+24)+p,d=48*a+48;g[a][b].x=c,g[a][b].y=d,i.beginPath(),i.rect(c,d,e,24),i.fillStyle=o[a],i.fill(),i.closePath()}}(),i.beginPath(),i.rect(q-12,r-12,24,24),i.fillStyle="#fff",i.fill(),i.closePath(),i.beginPath(),i.rect(l,a.height-48-24,144,24),i.fillStyle="#fff",i.fill(),i.closePath(),function(){for(let b=0;b<5;b++)for(let c=0;c<f;c++){let a=g[b][c];1==a.status&&q>a.x&&q<a.x+e&&r>a.y&&r<a.y+24&&(t=-t,a.status=0,++k==5*f&&(alert("YOU WIN!"),document.location.reload()))}}(),(q+s>a.width-12||q+s<12)&&(s=-s),r+t<12?t=-t:r+t>a.height-12-48&&(q>l&&q<l+144?t=-t:--j?(q=a.width/2,r=a.height-48-24,s=8,t=-8,l=(a.width-144)/2):(alert("GAME OVER"),document.location.reload())),m?(l+=12)+144>a.width&&(l=a.width-144):n&&(l-=12)<0&&(l=0),q+=s,r+=t,requestAnimationFrame(h)}document.addEventListener("keydown",function(a){"Right"==a.key||"ArrowRight"==a.key?m=!0:("Left"==a.key||"ArrowLeft"==a.key)&&(n=!0)},!1),document.addEventListener("keyup",function(a){"Right"==a.key||"ArrowRight"==a.key?m=!1:("Left"==a.key||"ArrowLeft"==a.key)&&(n=!1)},!1),document.addEventListener("mousemove",function(c){let b=c.clientX-a.offsetLeft;b>0&&b<a.width&&(l=b-72)},!1),window.addEventListener("resize",function(b){a.height=window.innerHeight,a.width=window.innerWidth,e=Math.floor((a.width-(f+1)*24)/f),p=Math.floor((a.width+24-f*(e+24))/2)},!1),h()}function c(){let a=document.createElement("canvas");return a.height=window.innerHeight,a.width=window.innerWidth,a.style.position="absolute",a.style.top="0px",a.style.left="0px",document.body.appendChild(a),a}document.addEventListener("keyup",c=>{c.target!==document.body||"."!==c.key||(document.body.innerHTML="",a||(a=!0,b()))})